(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{29:function(e,t,a){},40:function(e,t,a){e.exports=a(71)},45:function(e,t,a){},46:function(e,t,a){},69:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(20),r=a.n(c),o=(a(45),a(13)),i=a(14),u=a(16),m=a(15),s=a(12),d=a(6),p=a(72),E=a(73),h=a(74),g=(a(46),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"mb-50"},l.a.createElement(p.a,{color:"faded",light:!0,fixed:"top",expand:"md"},l.a.createElement(s.b,{href:"/",to:"/"},"Afaq Blogs"),l.a.createElement(E.a,{className:"ml-auto",navbar:!0},l.a.createElement(h.a,null,l.a.createElement(s.b,{to:"/"},"Home")),l.a.createElement(h.a,null,l.a.createElement(s.b,{href:"/add",to:"/add"},"Add Blog")),l.a.createElement(h.a,null,l.a.createElement(s.b,{href:"/detail",to:"/detail"},"About")))))}}]),a}(n.Component)),f=a(83),b=a(84),v=a(85),j=a(75),O=a(86),y=(a(29),a(9)),N=a(39),w=a.n(N).a.create({baseURL:"https://blog-fullstack-react.herokuapp.com/",headers:{Authorization:"token ".concat("e9158754cb928f4e9ba9b956dd66a22bd44ce58a")}}),B=a(76),k=a(77),C=a(78),x=a(79),A=a(80),D=a(81),U=a(82);function W(e){var t=e.element,a=t.description;a.length>43&&(a=a.substring(0,43),a+="...");var n=t.header;n.length>12&&(n=n.substring(0,12),n+="...");var c=Object(y.c)(),r=Object(d.e)();return l.a.createElement(j.a,{xs:"12",sm:"6",md:"6",lg:"4",className:"blog"},l.a.createElement(B.a,{className:"card",onClick:function(){c({type:"AddSelected",data:t}),r.push("detail/")}},l.a.createElement("input",{type:"hidden",value:t.id,name:"id"}),l.a.createElement(k.a,{top:!0,width:"100%",src:t.image,alt:"Blog image"}),l.a.createElement(C.a,null,l.a.createElement(x.a,null,l.a.createElement("h3",null,n)),l.a.createElement(A.a,null,l.a.createElement("small",null,"Written By ",t.author.toUpperCase()," ")),l.a.createElement(D.a,null,a),l.a.createElement(s.b,{to:"/add"},l.a.createElement(U.a,null,"View")))))}var S=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={data:[],list:[]},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.scrollTo(0,0);var t,a=[];w.get("user/").then((function(t){e.props.addUser(t.data[0])})),w.get("blog/").then((function(e){t=e.data.map((function(e){return a.push(l.a.createElement(f.a,null,l.a.createElement("div",{className:"img-div"},l.a.createElement("img",{top:"true",src:e.image,width:"100%",alt:"Blog img"})),l.a.createElement("h2",{className:"hist"},e.header))),l.a.createElement(W,{element:e})}))})).then((function(){e.setState({data:t,list:a}),e.props.addData(t)}))}},{key:"render",value:function(){return this.state.data?l.a.createElement("div",null,l.a.createElement(b.a,{className:".container"},l.a.createElement(v.a,null,l.a.createElement(j.a,{xs:"12",sm:"8",md:"9",lg:"9"},l.a.createElement(v.a,null,this.state.data)),l.a.createElement(j.a,null,l.a.createElement(O.a,{className:"list_group"},l.a.createElement("h3",{className:"text-center"},"History"),this.state.list))))):l.a.createElement("div",null,"No Blog Found")}}]),a}(n.Component),q=Object(y.b)((function(e){return{statedata:e.data,list:e.list}}),(function(e){return{addUser:function(t){e({type:"addUser",data:t})},addData:function(t){e({type:"Data",data:t})}}}))(S),F=(a(69),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("footer",null,l.a.createElement("div",{className:"container"},l.a.createElement("p",{className:"text-center"},"Copyright @2020 | Designed By AFAQ"))))}}]),a}(n.Component));function L(){var e=Object(y.d)((function(e){return e.selected})),t=Object(y.d)((function(e){return e.user.username}));console.log(t);var a=Object(y.c)(),n=Object(d.e)();return Object.keys(e).length>0?l.a.createElement("div",{className:"detail"},l.a.createElement("h1",null,e.header),l.a.createElement("h6",null,"Written By ",e.author.toUpperCase()),l.a.createElement("h3",null,"Content:"),l.a.createElement("p",null,e.description),e.author===t?l.a.createElement(U.a,{onClick:function(){a({type:"edit",data:!0}),n.push({pathname:"/add"})},className:"edit-btn"},"Edit"):l.a.createElement("div",null)):l.a.createElement("div",null)}var V=a(87),G=a(88),H=a(89),I=a(90);function J(){var e,t=Object(d.e)(),a=Object(y.c)(),c=y.d,r={header:"",description:"",image:""},o=c((function(e){return e.edit}));o&&(r=c((function(e){return e.selected})),document.getElementsByName("img").filename=r.image);Object(n.useEffect)((function(){return function(){o&&a({type:"edit",data:!1})}}),[]);return l.a.createElement("div",null,l.a.createElement("h2",{className:"text-center"},o?l.a.createElement("div",null,"Edit BLOG"):l.a.createElement("div",null,"ADD NEW BLOG")),l.a.createElement(V.a,{name:"newform",className:"blog-form",onSubmit:function(a){a.preventDefault();var n=new FormData;n.append("header",a.target.name.value),n.append("description",a.target.content.value),o?(void 0!==e&&n.append("image",e,e.name),w.patch("blog/".concat(r.id),n,{headers:{"content-type":"multipart/form-data",accept:"application/json"}}).then((function(e){console.log(e.data),t.push("/")})).catch((function(e){return console.log(e)}))):(n.append("image",e,e.name),w.post("blog/",n,{headers:{"content-type":"multipart/form-data",accept:"application/json"}}).then((function(e){console.log(e.data),t.push("/")})).catch((function(e){return console.log(e)})))}},l.a.createElement(G.a,null,l.a.createElement(H.a,null,"Blog Name"),l.a.createElement(I.a,{name:"name",type:"text",defaultValue:r.header,required:!0})),l.a.createElement(G.a,null,l.a.createElement(H.a,null,"Blog Content"),l.a.createElement(I.a,{name:"content",type:"textarea",defaultValue:r.description,"aria-rowcount":"40",required:!0})),l.a.createElement(G.a,null,l.a.createElement(H.a,null,"Blog Image"),l.a.createElement(I.a,{name:"img",type:"file",accept:"image/png, image.jpeg",onChange:function(t){e=t.target.files[0]}})),l.a.createElement(U.a,{className:"btn-lg btn-dark",type:"submit"},"Add Blog")))}var z=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(s.a,null,l.a.createElement(g,null),l.a.createElement(d.a,{exact:!0,path:"/",component:q}),l.a.createElement(d.a,{path:"/detail",component:L}),l.a.createElement(d.a,{path:"/add",component:J}),l.a.createElement(F,null))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(70);var M=a(22),Q={data:["new"],list:["list"],selected:{},user:{},edit:!1};var R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;return"Data"===t.type?Object.assign({},e,{data:t.data}):"addUser"===t.type?Object.assign({},e,{user:t.data}):"AddSelected"===t.type?Object.assign({},e,{selected:t.data}):"edit"===t.type?Object.assign({},e,{edit:t.data}):Object.assign({},e)},T=Object(M.b)(R);r.a.render(l.a.createElement(y.a,{store:T},l.a.createElement("div",{className:"app"},l.a.createElement(z,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.1fb24a34.chunk.js.map